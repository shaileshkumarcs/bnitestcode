<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Product extends CI_Controller {

	public function __construct()
    {
        parent::__construct();
        $this->load->database();
        $this->load->model("product_model");

    }

    public function index(){
    	echo "TEST";
    }

	public function createProduct(){

		if(!empty($_POST) && !empty($_POST['product_id'])){

			$product = $this->product_model->check_product($_POST['product_id']);

			if($product)
			{
				$response = array('status' => '101', 'msg'=> 'Product id already exist!');
			}
			else{
				
				$product_data = $_POST;
				$inserted_id = $this->product_model->insert_data($product_data);
				
				if($inserted_id){
					$response = array('status' => '100', 'msg'=> 'Product created successfully!');
				}
				else{
					$response = array('status' => '101', 'msg'=> 'Product not created!');
				}
			}
		}
		else{
			$response = array('status' => '102', 'msg'=> 'Method not allowed!');

		}
		echo json_encode($response);
	}
}
